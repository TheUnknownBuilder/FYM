{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Vani\\\\Documents\\\\GitHub\\\\FYM\\\\frontend\\\\src\\\\components\\\\user-profile.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { CSSTransition } from 'react-transition-group';\nimport { setUser } from '../actions';\nimport axios from 'axios';\nimport MovieRow from './movie-row';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function UserProfile(_ref) {\n  _s();\n\n  let {\n    match\n  } = _ref;\n  const {\n    params: {\n      id\n    }\n  } = match;\n  const currentUser = useSelector(state => state.userReducer);\n  const dispatch = useDispatch();\n  const [user, setUserState] = useState(undefined);\n  const [likedQuery, setLikedQuery] = useState(''); // liked list query\n\n  const [savedQuery, setSavedQuery] = useState('');\n  useEffect(() => {\n    console.log('PropsID---', id); // get user and update state on props change\n\n    axios.get('/account/user/' + id).then(res => {\n      if (res.data) {\n        // set user state\n        setUserState(res.data); // set document title\n\n        document.title = res.data.username + ' | FYM'; // add movie ids to query\n\n        if (res.data.Liked) {\n          let query = '';\n          res.data.Liked.forEach(id => {\n            query += id + ',';\n          });\n          setLikedQuery(query);\n        }\n\n        if (res.data.saved) {\n          let query = '';\n          res.data.saved.forEach(id => {\n            query += id + ',';\n          });\n          console.log(query);\n          setSavedQuery(query);\n        }\n      }\n    });\n  }, [id]);\n  return /*#__PURE__*/_jsxDEV(CSSTransition, {\n    in: true,\n    appear: true,\n    timeout: 600,\n    classNames: \"fade\",\n    unmountOnExit: true,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: user && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container rounded p-4 mt-4 text-white\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex flex-column w-50 justify-content-between mr-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex m-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"w-20 m-0\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"badge badge-primary mr-3\",\n                  children: \"Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 73,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"m-0\",\n                children: user.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex m-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"w-20 m-0\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"badge badge-primary mr-3\",\n                  children: \"@\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"m-0\",\n                children: user.username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex m-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"w-20 m-0\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"badge badge-warning p-2 mr-3\",\n                  children: \"Joined\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"badge badge-secondary p-2 mr-3\",\n                  children: Date(user.DateCreated).toLocaleString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-5\",\n          children: [likedQuery && /*#__PURE__*/_jsxDEV(MovieRow, {\n            title: 'Liked List',\n            shouldCount: \"true\",\n            movies: likedQuery\n          }, 'Liked', false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 37\n          }, this), savedQuery && /*#__PURE__*/_jsxDEV(MovieRow, {\n            title: 'Saved for Later',\n            shouldCount: \"true\",\n            movies: savedQuery\n          }, 'Saved for Later', false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 13\n  }, this);\n}\n\n_s(UserProfile, \"H2AVS9i5WbODalw1ZvbAXv9rOLQ=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c = UserProfile;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserProfile\");","map":{"version":3,"sources":["C:/Users/Vani/Documents/GitHub/FYM/frontend/src/components/user-profile.jsx"],"names":["React","useEffect","useState","useSelector","useDispatch","CSSTransition","setUser","axios","MovieRow","UserProfile","match","params","id","currentUser","state","userReducer","dispatch","user","setUserState","undefined","likedQuery","setLikedQuery","savedQuery","setSavedQuery","console","log","get","then","res","data","document","title","username","Liked","query","forEach","saved","name","Date","DateCreated","toLocaleString"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport { setUser } from '../actions';\r\nimport axios from 'axios';\r\nimport MovieRow from './movie-row';\r\n\r\nexport default function UserProfile({match}) {\r\n    const {\r\n        params: { id },\r\n      } = match;\r\n\r\n    const currentUser = useSelector((state) => state.userReducer);\r\n    const dispatch = useDispatch();\r\n    const [user, setUserState] = useState(undefined);\r\n    const [likedQuery, setLikedQuery] = useState(''); // liked list query\r\n    const [savedQuery, setSavedQuery] = useState(''); \r\n\r\n    \r\n    useEffect(() => {\r\n\r\n        console.log('PropsID---',id);\r\n        // get user and update state on props change\r\n        axios.get('/account/user/' + id).then((res) => {\r\n            \r\n            if (res.data) {\r\n\r\n                // set user state\r\n                setUserState(res.data);\r\n\r\n                // set document title\r\n                document.title = res.data.username + ' | FYM';\r\n\r\n                // add movie ids to query\r\n                if (res.data.Liked) {\r\n                    let query = '';\r\n\r\n                    res.data.Liked.forEach((id) => {\r\n                        query += id + ',';\r\n                    });\r\n\r\n                    setLikedQuery(query);\r\n                }\r\n\r\n                if (res.data.saved) {\r\n                    \r\n                    let query = '';\r\n\r\n                    res.data.saved.forEach((id) => {\r\n                        query += id + ',';\r\n                    });\r\n                    console.log(query);\r\n                    setSavedQuery(query);\r\n                }\r\n            }\r\n        });\r\n    },[id]);\r\n\r\n        return (\r\n            <CSSTransition\r\n                in={true}\r\n                appear={true}\r\n                timeout={600}\r\n                classNames='fade'\r\n                unmountOnExit>\r\n                <div>\r\n                    {user && (\r\n                        <div>\r\n                            <div className='container rounded p-4 mt-4 text-white'>\r\n                                <div className='d-flex flex-column w-50 justify-content-between mr-4'>\r\n                                    <div className='d-flex m-1'>\r\n                                        <h4 className='w-20 m-0'>\r\n                                            <span className='badge badge-primary mr-3'>\r\n                                                Name\r\n                                            </span>\r\n                                        </h4>\r\n                                        <h3 className='m-0'>{user.name}</h3>\r\n                                    </div>\r\n                                    <div className='d-flex m-1'>\r\n                                        <h4 className='w-20 m-0'>\r\n                                            <span className='badge badge-primary mr-3'>\r\n                                                @\r\n                                            </span>\r\n                                        </h4>\r\n                                        <h3 className='m-0'>{user.username}</h3>\r\n                                    </div>\r\n    \r\n                                    <br />\r\n                                    <div className='d-flex m-1'>\r\n                                        <h5 className='w-20 m-0'>\r\n                                            <span className='badge badge-warning p-2 mr-3'>\r\n                                                Joined\r\n                                            </span>\r\n                                        </h5>\r\n                                        <h5>\r\n                                            <span className='badge badge-secondary p-2 mr-3'>\r\n                                                { Date(\r\n                                                    user.DateCreated\r\n                                                ).toLocaleString()}\r\n                                            </span>\r\n                                        </h5>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className='mt-5'>\r\n                                {likedQuery && (\r\n                                    <MovieRow\r\n                                        key={'Liked'}\r\n                                        title={'Liked List'}\r\n                                        shouldCount='true'\r\n                                        movies={likedQuery}></MovieRow>\r\n                                )}\r\n                                {savedQuery && (\r\n                                    <MovieRow\r\n                                        key={'Saved for Later'}\r\n                                        title={'Saved for Later'}\r\n                                        shouldCount='true'\r\n                                        movies={savedQuery}></MovieRow>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </CSSTransition>\r\n        );\r\n    }\r\n    "]},"metadata":{},"sourceType":"module"}