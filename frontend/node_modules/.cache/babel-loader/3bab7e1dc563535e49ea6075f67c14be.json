{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Vani\\\\Documents\\\\GitHub\\\\FYM\\\\frontend\\\\src\\\\components\\\\login.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useState, useEffect } from 'react';\nimport { setInStorage } from '../utils/storage';\nimport { useHistory } from 'react-router-dom';\nimport { CSSTransition } from 'react-transition-group';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { setUser } from '../actions';\nimport checkedIcon from '../assets/img/checked.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Login(props) {\n  _s();\n\n  const [name, setName] = useState('');\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState(''); // error message\n\n  const [register, setMode] = useState(false); // register or login\n\n  const [loading, setLoading] = useState(false);\n  const regex = {\n    length: /.{6,}/,\n    digit: /\\d/,\n    capital: /[A-Z]/\n  }; // regex for password creation\n  // password requirements state\n\n  const [passMin, setPassMin] = useState(false);\n  const [passNum, setPassNum] = useState(false);\n  const [passCapital, setPassCapital] = useState(false);\n  const [buttonEnabled, setButtonEnabled] = useState(false); // submit button state\n\n  const user = useSelector(state => state.userReducer);\n  const history = useHistory();\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (register) {\n      document.title = 'Sign Up | FYM';\n    } else {\n      document.title = 'Sign In | FYM';\n    }\n\n    validPassword(password);\n  }, [register]); // redirect to wherever user came from\n\n  function redirect() {\n    if (props.location.state) {\n      history.push('/movie/' + props.location.state.redirectID);\n    } else {\n      history.goBack();\n    }\n  } // sign up request\n\n\n  function signUpRequest() {\n    console.log(\"Fine\");\n    setLoading(true); // Post request to backend\n\n    axios({\n      method: 'post',\n      url: '/account/register',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      data: JSON.stringify({\n        name: name,\n        username: username,\n        password: password\n      })\n    }).then(res => {\n      if (res.data.success) {\n        // write token to storage\n        setInStorage('fym', {\n          token: res.data.token\n        });\n        setLoading(false); // dispatch user to redux and redirect\n\n        dispatch(setUser(res.data.user));\n        setTimeout(redirect, 1700);\n      } else {\n        setError(res.data.message);\n      }\n\n      setLoading(false);\n    });\n  } // sign in request\n\n\n  function signInRequest() {\n    setLoading(true); // Post request to backend\n\n    axios({\n      method: 'post',\n      url: '/account/login',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      data: JSON.stringify({\n        username: username,\n        password: password\n      })\n    }).then(res => {\n      if (res.data.success) {\n        console.log('Print'); // write token to storage\n\n        setInStorage('fym', {\n          token: res.data.token\n        });\n        setLoading(false); // dispatch user to redux and redirect\n\n        dispatch(setUser(res.data.user));\n        setTimeout(redirect, 1700);\n      } else {\n        setError(res.data.message);\n      }\n\n      setLoading(false);\n    });\n  } // username requirements\n\n\n  function validUsername() {\n    if (username.length >= 6 && username.length <= 14) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n          className: \"text-success\",\n          children: \"6-14 characters\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n          className: \"text-danger\",\n          children: \"6-14 characters\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }, this);\n    }\n  } // function to update password requirements in realtime\n\n\n  function validPassword(pass) {\n    if (regex.length.test(pass)) {\n      setPassMin(true);\n    } else {\n      setPassMin(false);\n    }\n\n    if (regex.digit.test(pass)) {\n      setPassNum(true);\n    } else {\n      setPassNum(false);\n    }\n\n    if (regex.capital.test(pass)) {\n      setPassCapital(true);\n    } else {\n      setPassCapital(false);\n    }\n\n    if (regex.length.test(pass) && regex.digit.test(pass) && regex.capital.test(pass)) {\n      setButtonEnabled(true);\n    } else {\n      setButtonEnabled(false);\n    }\n  } // sign in container\n\n\n  function signInContainer() {\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"container rounded p-4 pt-5 text-white h-100 d-flex flex-column justify-content-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"username\",\n            type: \"text\",\n            className: \"form-control\",\n            placeholder: \"Enter username\",\n            value: username,\n            onChange: e => setUsername(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"password\",\n            type: \"password\",\n            className: \"form-control\",\n            placeholder: \"Enter Password\",\n            value: password,\n            onChange: e => setPassword(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 17\n      }, this), error ? /*#__PURE__*/_jsxDEV(\"small\", {\n        className: \"form-text text-danger\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 21\n      }, this) : '', /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"small\", {\n            className: \"form-text text-muted\",\n            children: [\"Don't have an account?\", /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"text-warning text-decoration-none pointer\",\n              onClick: () => {\n                setMode(true);\n                setError();\n              },\n              children: [' ', \"Sign up\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 21\n        }, this), ' ', /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          onClick: () => signInRequest(),\n          className: \"btn btn-warning w-100\",\n          children: \"Sign In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 13\n    }, this);\n  } // sign up container\n\n\n  function signUpContainer() {\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"container rounded p-4 text-white h-100 d-flex flex-column justify-content-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"name\",\n          type: \"name\",\n          className: \"form-control\",\n          placeholder: \"Enter name\",\n          value: name,\n          maxLength: \"35\",\n          onChange: e => setName(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [validUsername(), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"username\",\n          type: \"text\",\n          className: \"form-control\",\n          placeholder: \"Enter username\",\n          value: username,\n          onChange: e => setUsername(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"password\",\n          type: \"password\",\n          className: \"form-control\",\n          placeholder: \"Enter Password\",\n          value: password,\n          onChange: e => {\n            setPassword(e.target.value);\n            validPassword(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex justify-content-between flex-column h-100\",\n          children: [/*#__PURE__*/_jsxDEV(\"small\", {\n            className: passMin ? 'text-success' : 'text-danger',\n            children: \"- Min. 6 characters\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n            className: passNum ? 'text-success' : 'text-danger',\n            children: \"- Must contain number (0-9)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n            className: passCapital ? 'text-success' : 'text-danger',\n            children: \"- Must contain a capital letter (A-Z)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 17\n      }, this), error ? /*#__PURE__*/_jsxDEV(\"small\", {\n        className: \"form-text text-danger\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 21\n      }, this) : '', /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/_jsxDEV(\"small\", {\n          className: \"form-text text-muted\",\n          children: [\"Already have an account?\", /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"text-warning text-decoration-none pointer\",\n            onClick: () => {\n              setMode(false);\n              setError();\n            },\n            children: [' ', \"Login\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        onClick: () => signUpRequest(),\n        className: \"btn btn-warning\",\n        disabled: !buttonEnabled,\n        children: \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 13\n    }, this);\n  } // get correct container based on state\n\n\n  function getContainer() {\n    if (loading) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container rounded p-4 text-white h-100 d-flex flex-column justify-content-center align-items-center\",\n        children: /*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 17\n      }, this);\n    } else {\n      if (user.currentUser) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container rounded p-4 text-white h-100\",\n          children: /*#__PURE__*/_jsxDEV(CSSTransition, {\n            in: true,\n            appear: true,\n            timeout: 600,\n            classNames: \"fade\",\n            unmountOnExit: true,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex flex-column justify-content-center align-items-center h-100\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                children: \"You're logged in\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                src: checkedIcon,\n                className: \"checked-icon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 21\n        }, this);\n      } else {\n        if (register) {\n          return signUpContainer();\n        } else {\n          return signInContainer();\n        }\n      }\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(CSSTransition, {\n    in: true,\n    appear: true,\n    timeout: 600,\n    classNames: \"fade\",\n    unmountOnExit: true,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-background\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"background-default\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"background-cover opacity-60\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-container\",\n        children: getContainer()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 367,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Login, \"jMQGgn0zTAyO8VuS5TbjFI0itMw=\", false, function () {\n  return [useSelector, useHistory, useDispatch];\n});\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/Vani/Documents/GitHub/FYM/frontend/src/components/login.jsx"],"names":["axios","React","useState","useEffect","setInStorage","useHistory","CSSTransition","useSelector","useDispatch","setUser","checkedIcon","Login","props","name","setName","username","setUsername","password","setPassword","error","setError","register","setMode","loading","setLoading","regex","length","digit","capital","passMin","setPassMin","passNum","setPassNum","passCapital","setPassCapital","buttonEnabled","setButtonEnabled","user","state","userReducer","history","dispatch","document","title","validPassword","redirect","location","push","redirectID","goBack","signUpRequest","console","log","method","url","headers","data","JSON","stringify","then","res","success","token","setTimeout","message","signInRequest","validUsername","pass","test","signInContainer","e","target","value","signUpContainer","getContainer","currentUser"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport React, { useState, useEffect } from 'react';\r\nimport { setInStorage } from '../utils/storage';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { setUser } from '../actions';\r\nimport checkedIcon from '../assets/img/checked.png';\r\n   \r\nexport default function Login(props) {\r\n   \r\n    const [name, setName] = useState('');\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [error, setError] = useState(''); // error message\r\n    const [register, setMode] = useState(false); // register or login\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const regex = { length: /.{6,}/, digit: /\\d/, capital: /[A-Z]/ }; // regex for password creation\r\n\r\n    // password requirements state\r\n    const [passMin, setPassMin] = useState(false);\r\n    const [passNum, setPassNum] = useState(false);\r\n    const [passCapital, setPassCapital] = useState(false);\r\n\r\n    const [buttonEnabled, setButtonEnabled] = useState(false); // submit button state\r\n\r\n    const user = useSelector((state) => state.userReducer);\r\n    const history = useHistory();\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(()=>{\r\n        if(register){\r\n            document.title='Sign Up | FYM';\r\n          }\r\n        else{\r\n            document.title='Sign In | FYM'\r\n        }\r\n\r\n        validPassword(password);\r\n    }, [register]);\r\n\r\n    // redirect to wherever user came from\r\n    function redirect() {\r\n        if (props.location.state) {\r\n            history.push('/movie/' + props.location.state.redirectID);\r\n        } else {\r\n            history.goBack();\r\n        }\r\n    }\r\n\r\n\r\n    // sign up request\r\n    function signUpRequest() {\r\n        console.log(\"Fine\");\r\n        setLoading(true);\r\n        // Post request to backend\r\n        axios({\r\n            \r\n            method: 'post',\r\n            url: '/account/register',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            \r\n            data: JSON.stringify({\r\n                name: name,\r\n                username: username,\r\n                password: password,\r\n            }),\r\n        }\r\n        ).then((res) => {\r\n            if (res.data.success) {\r\n                // write token to storage\r\n                setInStorage('fym',{\r\n                    token:res.data.token,\r\n                });\r\n                setLoading(false);\r\n                // dispatch user to redux and redirect\r\n                dispatch(setUser(res.data.user));\r\n                setTimeout(redirect, 1700);\r\n            } else {\r\n                setError(res.data.message);\r\n            }\r\n            setLoading(false);\r\n        });\r\n    }\r\n\r\n    // sign in request\r\n    function signInRequest() {\r\n        setLoading(true);\r\n        // Post request to backend\r\n        axios({\r\n            method: 'post',\r\n            url: '/account/login',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            data: JSON.stringify({\r\n                username: username,\r\n                password: password,\r\n            }),\r\n        }).then((res) => {\r\n            if (res.data.success) {\r\n                console.log('Print');\r\n                // write token to storage\r\n                setInStorage('fym',{\r\n                    token:res.data.token,\r\n                });\r\n                setLoading(false);\r\n                // dispatch user to redux and redirect\r\n                dispatch(setUser(res.data.user));\r\n                setTimeout(redirect, 1700);\r\n            } else {\r\n                setError(res.data.message);\r\n            }\r\n            setLoading(false);\r\n        });\r\n    }\r\n\r\n    // username requirements\r\n    function validUsername() {\r\n        if (username.length >= 6 && username.length <= 14) {\r\n            return (\r\n                <div className='d-flex justify-content-between'>\r\n                    <label>Username</label>\r\n                    <small className='text-success'>6-14 characters</small>\r\n                </div>\r\n            );\r\n        } else {\r\n            return (\r\n                <div className='d-flex justify-content-between'>\r\n                    <label>Username</label>\r\n                    <small className='text-danger'>6-14 characters</small>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    // function to update password requirements in realtime\r\n    function validPassword(pass) {\r\n        if (regex.length.test(pass)) {\r\n            setPassMin(true);\r\n        } else {\r\n            setPassMin(false);\r\n        }\r\n\r\n        if (regex.digit.test(pass)) {\r\n            setPassNum(true);\r\n        } else {\r\n            setPassNum(false);\r\n        }\r\n\r\n        if (regex.capital.test(pass)) {\r\n            setPassCapital(true);\r\n        } else {\r\n            setPassCapital(false);\r\n        }\r\n\r\n        if (\r\n            regex.length.test(pass) &&\r\n            regex.digit.test(pass) &&\r\n            regex.capital.test(pass)\r\n        ) {\r\n            setButtonEnabled(true);\r\n        } else {\r\n            setButtonEnabled(false);\r\n        }\r\n    }\r\n\r\n    // sign in container\r\n    function signInContainer() {\r\n        return (\r\n            <form className='container rounded p-4 pt-5 text-white h-100 d-flex flex-column justify-content-between'>\r\n                <div>\r\n                    <div className='form-group'>\r\n                        <label>Username</label>\r\n                        <input\r\n                            name='username'\r\n                            type='text'\r\n                            className='form-control'\r\n                            placeholder='Enter username'\r\n                            value={username}\r\n                            onChange={(e) => setUsername(e.target.value)}\r\n                        />\r\n                    </div>\r\n                    <div className='form-group'>\r\n                        <label>Password</label>\r\n                        <input\r\n                            name='password'\r\n                            type='password'\r\n                            className='form-control'\r\n                            placeholder='Enter Password'\r\n                            value={password}\r\n                            onChange={(e) => setPassword(e.target.value)}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                {error ? (\r\n                    <small className='form-text text-danger'>{error}</small>\r\n                ) : (\r\n                    ''\r\n                )}\r\n                <div>\r\n                    <div className='form-group'>\r\n                        <small className='form-text text-muted'>\r\n                            Don't have an account?\r\n                            <a\r\n                                className='text-warning text-decoration-none pointer'\r\n                                onClick={() => {\r\n                                    setMode(true);\r\n                                    setError();\r\n                                }}>\r\n                                {' '}\r\n                                Sign up\r\n                            </a>\r\n                        </small>\r\n                    </div>{' '}\r\n                    <button\r\n                        type='submit'\r\n                        onClick={() => signInRequest()}\r\n                        className='btn btn-warning w-100'>\r\n                        Sign In\r\n                    </button>\r\n                </div>\r\n            </form>\r\n        );\r\n    }\r\n\r\n    // sign up container\r\n    function signUpContainer() {\r\n        return (\r\n            <form className='container rounded p-4 text-white h-100 d-flex flex-column justify-content-between'>\r\n                <div className='form-group'>\r\n                    <label>Name</label>\r\n                    <input\r\n                        name='name'\r\n                        type='name'\r\n                        className='form-control'\r\n                        placeholder='Enter name'\r\n                        value={name}\r\n                        maxLength='35'\r\n                        onChange={(e) => setName(e.target.value)}\r\n                    />\r\n                </div>\r\n                <div className='form-group'>\r\n                    {validUsername()}\r\n                    <input\r\n                        name='username'\r\n                        type='text'\r\n                        className='form-control'\r\n                        placeholder='Enter username'\r\n                        value={username}\r\n                        onChange={(e) => setUsername(e.target.value)}\r\n                    />\r\n                </div>\r\n                <div className='form-group'>\r\n                    <label>Password</label>\r\n                    <input\r\n                        name='password'\r\n                        type='password'\r\n                        className='form-control'\r\n                        placeholder='Enter Password'\r\n                        value={password}\r\n                        onChange={(e) => {\r\n                            setPassword(e.target.value);\r\n                            validPassword(e.target.value);\r\n                        }}\r\n                    />\r\n                </div>\r\n                <div className='form-group'>\r\n                    <div className='d-flex justify-content-between flex-column h-100'>\r\n                        {/* password requirements */}\r\n                        <small\r\n                            className={\r\n                                passMin ? 'text-success' : 'text-danger'\r\n                            }>\r\n                            - Min. 6 characters\r\n                        </small>\r\n                        <small\r\n                            className={\r\n                                passNum ? 'text-success' : 'text-danger'\r\n                            }>\r\n                            - Must contain number (0-9)\r\n                        </small>\r\n                        <small\r\n                            className={\r\n                                passCapital ? 'text-success' : 'text-danger'\r\n                            }>\r\n                            - Must contain a capital letter (A-Z)\r\n                        </small>\r\n                    </div>\r\n                </div>\r\n                {error ? (\r\n                    <small className='form-text text-danger'>{error}</small>\r\n                ) : (\r\n                    ''\r\n                )}\r\n\r\n                <div className='form-group'>\r\n                    <small className='form-text text-muted'>\r\n                        Already have an account?\r\n                        <a\r\n                            className='text-warning text-decoration-none pointer'\r\n                            onClick={() => {\r\n                                setMode(false);\r\n                                setError();\r\n                            }}>\r\n                            {' '}\r\n                            Login\r\n                        </a>\r\n                    </small>\r\n                </div>\r\n\r\n                <button\r\n                    type='submit'\r\n                    onClick={() => signUpRequest()}\r\n                    className='btn btn-warning'\r\n                    disabled={!buttonEnabled}>\r\n                    Sign Up\r\n                </button>\r\n            </form>\r\n        );\r\n    }\r\n\r\n    // get correct container based on state\r\n    function getContainer() {\r\n        if (loading) {\r\n            return (\r\n                <div className='container rounded p-4 text-white h-100 d-flex flex-column justify-content-center align-items-center'>\r\n                    <h5>Loading...</h5>\r\n                </div>\r\n            );\r\n        } else {\r\n            if (user.currentUser) {\r\n                return (\r\n                    <div className='container rounded p-4 text-white h-100'>\r\n                        <CSSTransition\r\n                            in={true}\r\n                            appear={true}\r\n                            timeout={600}\r\n                            classNames='fade'\r\n                            unmountOnExit>\r\n                            <div className='d-flex flex-column justify-content-center align-items-center h-100'>\r\n                                <h5>You're logged in</h5>\r\n                                <br />\r\n                                <br />\r\n                                <img\r\n                                    src={checkedIcon}\r\n                                    className='checked-icon'></img>\r\n                            </div>\r\n                        </CSSTransition>\r\n                    </div>\r\n                );\r\n            } else {\r\n                if (register) {\r\n                    return signUpContainer();\r\n                } else {\r\n                    return signInContainer();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <CSSTransition\r\n            in={true}\r\n            appear={true}\r\n            timeout={600}\r\n            classNames='fade'\r\n            unmountOnExit>\r\n            <div>\r\n                {/* background */}\r\n                <div className='login-background'>\r\n                    <div className='background-default'></div>\r\n                    <div className='background-cover opacity-60'></div>\r\n                </div>\r\n                {/* login container */}\r\n                <div className='login-container'>{getContainer()}</div>\r\n              \r\n            </div>\r\n        </CSSTransition>\r\n    );\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}